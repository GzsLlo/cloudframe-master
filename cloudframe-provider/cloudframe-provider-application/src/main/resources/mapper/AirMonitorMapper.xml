<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ai.cloudframe.provider.application.mapper.AirMonitorMapper">

  <select id="getAirMonitorInfo" resultType="com.ai.cloudframe.provider.api.sys.model.vo.AirMonitorVo"
          parameterType="Map">
    SELECT
      AIR_MONITOR_ID,
      RULE_NAME,
      MONITOR_TARGET,
      DIMENSION,
      START_TIME,
      END_TIME,
      REGION,
      THRESHOLD_TYPE,
      THRESHOLD,
      ALARM_CODE,
      ALARM_TYPE,
      START_DATE,
      END_DATE
    FROM
      tf_asiainfo_air_monitor
    WHERE
      1 = 1
    <if test = "param.airMonitorId != null and param.airMonitorId != ''">
      AND tam.AIR_MONITOR_ID = #{param.airMonitorId}
    </if>
  </select>

  <update id="updateAirMonitor" parameterType="com.ai.cloudframe.provider.api.sys.model.vo.AirMonitorVo">
    UPDATE
      tf_asiainfo_air_monitor
    SET
      AIR_MONITOR_ID = '26b709c2-6bd3-45b3-8c96-0c8403e40ea3'
      <if test="airMonitorVo.ruleName != null and airMonitorVo.ruleName != ''">
      , RULE_NAME = #{airMonitorVo.ruleName}
      </if>
      <if test="airMonitorVo.monitorTarget != null and airMonitorVo.monitorTarget != ''">
        , MONITOR_TARGET = #{airMonitorVo.monitorTarget}
      </if>
      <if test="airMonitorVo.dimension != null and airMonitorVo.dimension != ''">
        , DIMENSION = #{airMonitorVo.dimension}
      </if>
      <if test="airMonitorVo.startTime != null">
        , START_TIME = #{airMonitorVo.startTime}
      </if>
      <if test="airMonitorVo.endTime != null">
        , END_TIME = #{airMonitorVo.endTime}
      </if>
      <if test="airMonitorVo.region != null and airMonitorVo.region != ''">
        , REGION = #{airMonitorVo.region}
      </if>
      <if test="airMonitorVo.thresholdType != null and airMonitorVo.thresholdType != ''">
        , THRESHOLD_TYPE = #{airMonitorVo.thresholdType}
      </if>
      <if test="airMonitorVo.threshold != null and airMonitorVo.threshold != ''">
        , THRESHOLD = #{airMonitorVo.threshold}
      </if>
      <if test="airMonitorVo.alarmCode != null and airMonitorVo.alarmCode != ''">
        , ALARM_CODE = #{airMonitorVo.alarmCode}
      </if>
      <if test="airMonitorVo.alarmType != null and airMonitorVo.alarmType != ''">
        , ALARM_TYPE = #{airMonitorVo.alarmType}
      </if>
      <if test="airMonitorVo.startDate != null">
        , START_DATE = #{airMonitorVo.startDate}
      </if>
      <if test="airMonitorVo.endDate != null">
        , END_DATE = #{airMonitorVo.endDate}
      </if>
    WHERE
      AIR_MONITOR_ID = '26b709c2-6bd3-45b3-8c96-0c8403e40ea3'
  </update>

</mapper>
